%%
%% labs/common/assignment.tex
%% (c) 2021-23 Christopher A. Bohn
%%
%% Licensed under the Apache License, Version 2.0 (the "License");
%% you may not use this file except in compliance with the License.
%% You may obtain a copy of the License at
%%     http://www.apache.org/licenses/LICENSE-2.0
%% Unless required by applicable law or agreed to in writing, software
%% distributed under the License is distributed on an "AS IS" BASIS,
%% WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
%% See the License for the specific language governing permissions and
%% limitations under the License.
%%

\usepackage{addfont}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{animate}
\usepackage{bold-extra}
\usepackage{cancel}
\usepackage{caption}
\usepackage{ccicons}
\usepackage{enumitem}
\usepackage{etoolbox}
\usepackage{fancyhdr}
\usepackage{fullpage}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage[utf8]{inputenc}
\usepackage[procnames]{listings}
%\usepackage{media9}
\usepackage{multicol}
\usepackage{subfig}
\usepackage{textcomp}
\usepackage{tikz}
\usepackage[americanresistor]{circuitikz}
%\usepackage{tikz-uml}
\usetikzlibrary{automata,positioning,arrows}
\usepackage[normalem]{ulem}
\usepackage{wrapfig}
\usepackage{xcolor}
%\usepackage[dvipsnames]{xcolor}
\definecolor{LightGreen}{rgb}{0.88,1,0.88}

\lstset{language=C, tabsize=4, upquote=true, basicstyle=\ttfamily}
\newcommand{\function}[1]{\textbf{\lstinline{#1}}}
\setlength{\headsep}{0.7cm}
\hypersetup{colorlinks=true}

%% CREDIT FOR MARKERLESSFOOTNOTE WHERE CREDIT IS DUE: https://tex.stackexchange.com/questions/30720/footnote-without-a-marker?answertab=scoredesc#tab-top
\newcommand\markerlessfootnote[1]{%
    \begingroup
    \renewcommand\thefootnote{}\footnote{#1}%
    \addtocounter{footnote}{-1}%
    \endgroup
}

\newcommand{\pagelayout}{
    \pagestyle{fancy}
    \fancyhf{}
    \lhead{\coursenumber}
    \chead{\ Lab \labnumber: \labname}
    \rhead{\courseterm}
    \cfoot{\shortlabname-\thepage}
}

\newcommand{\labidentifier}{
    \title{\ Lab \labnumber}
    \author{\labname}
    \date{Due: \duedate}
    \maketitle

    \textit{\collaborationrules}
    \markerlessfootnote{\tiny{\ifdefstring{\instructorname}{Christopher A. Bohn}{Assignment}{Original assignment} and starter code \copyright\ Christopher A. Bohn, licensed under the Creative Commons Attribution 4.0 International License~\ccby\ and under the Apache License Version 2.0, respectively.}}
    \ifdefstring{\instructorname}{Christopher A. Bohn}{}{\markerlessfootnote{\tiny{Configured for \coursenumber\ at \institutename\ by \instructorname.}}}

    \begin{description}
        \item[Obtaining the starter code] \filesource
        \item[Runtime environment] We will grade this assignment by compiling and running it on \runtimeenvironment;
            you should compile and test your code on \runtimeenvironment\ before turning it in.
        \item[Submitting your work] \filesubmission
    \end{description}
}

% display module fonts for hardware kit
% use with the Capital baseball "matrix printer" font collection (https://www.ctan.org/tex-archive/fonts/capbas/)
% Identifying the specific font in the assignment sheet is deprecated
%   -- instead, set the `usedisplayfont` boolean and the `displaymodule` variable in semester.tex,
%      and \display{...} in the assignment sheet

\addfont{OT1}{d7seg}{\dviiseg}
\addfont{OT1}{deseg}{\deseg}
\addfont{OT1}{necker}{\necker}

\providebool{usedisplayfont}

\newcommand{\display}[1]{
    \ifboolexpe{bool{usedisplayfont}}{
        \ifdefstring{\displaymodule}{MAX7219digits}{{\dviiseg #1}}{}
        \ifdefstring{\displaymodule}{MAX7219matrix}{{\deseg #1}}{}
        \ifdefstring{\displaymodule}{LCD1602}{{\necker #1}}{}
        % We don't yet have a Cow Pi configuration with 14-segment displays, so no \deseg yet
    }{
        \texttt{#1}
    }
}

\newcommand{\rubricitem}[2]{\item[\underline{\hspace{1cm}} +#1] #2}
\newcommand{\bonusitem}[2]{\item[\underline{\hspace{1cm}} Bonus +#1] #2}
\newcommand{\penaltyitem}[2]{\item[\underline{\hspace{1cm}} -#1] #2}
\newcommand{\checkoffitem}[1]{\item (\phantom{xxx}) #1}
\newcommand{\precheckoffitem}[1]{\item [] (\phantom{xxx}) #1}

\newcommand{\institutename}{University of Nebraska-Lincoln}
\newcommand{\instructorname}{Christopher A. Bohn}
\newcommand{\coursenumber}{CSCE~231}
\newcommand{\cstwo}{CSCE~156, RAIK~184H, or SOFT~161}
\newcommand{\courseterm}{Spring 2025}
\newcommand{\labnumber}{3}
\newcommand{\labname}{Pointer Manipulation Lab}
\newcommand{\shortlabname}{LinkedListLab}
\newcommand{\duedate}{Week of February 10, before the start of your lab section}
\newcommand{\filesource}{Download \startercode\ from Canvas, or copy \startercode\ from {\footnotesize$\sim$}cbohn2/csce231 on \textit{nuros.unl.edu}}
\newcommand{\filesubmission}{When you have completed this assignment, submit \requiredfiles\ to the assignment in Canvas.}
\newcommand{\runtimeenvironment}{the \textit{nuros.unl.edu} Linux server}
\newcommand{\startercode}{linkedlistlab.zip or linkedlistlab.tar}
\newcommand{\requiredfiles}{\textit{answers.txt}, \textit{linked\_list.c}, \textit{sorted\_word\_entries.c}, and \textit{word\_entry.c}}
\newcommand{\buildsystem}{make}
\newcommand{\processor}{x86-64}
\newcommand{\lowercaseprocessor}{x86-64}
\newcommand{\collaborationrules}{During your scheduled lab time, you may, \textbf{but are not required to}, form a partner group of 2 students.
    When necessary, there may be a group of 3 students.
    During your scheduled lab time, and until the end of your lab day, you may discuss problem decomposition and solution design with your lab partner.
    After your scheduled lab day, you may discuss concepts and syntax with other students, but you may discuss solutions only with the professor and the TAs.
    Sharing code with or copying code from another student or the internet is prohibited.
}
\newcommand{\policyforcodethatdoesnotcompile}{\subsection*{No Credit for Uncompilable Code}
    If the TA cannot create an executable from your code, then your code will be assumed to have no functionality.\footnote{
        At the TA's discretion, if they can make your code compile with \textit{one} edit (such as introducing a missing semicolon) then they may do so and then assess a 10\% penalty on the resulting score.
        The TA is under no obligation to do so, and you should not rely on the TA's willingness to edit your code for grading.
        If there are multiple options for a single edit that would make your code compile, there is no guarantee that the TA will select the option that would maximize your score.
    }
    Before turning in your code, be sure to compile and test your code on \runtimeenvironment\ with the original driver code, the original header file(s), and the original \textit{Makefile}.}
\newcommand{\latepolicy}{\subsection*{Late Submissions}
    This assignment is due before the start of your lab section.
     After you have exhausted your grace days, we will accept late turn-ins up to one hour late, assessing a 10\% penalty on these late submissions.
    After you have exhausted your grace days, any work turned in more than one hour late will not be graded.}
\newcommand{\softwareengineeringfrontmatter}{\section*{No Spaghetti Code Allowed}
        In the interest of keeping your code readable, you may \textit{not} use
        any \lstinline{goto} statements, nor may you use any
        \lstinline{continue} statements, nor may you use any \lstinline{break}
        statements to exit from a loop, nor may you have any functions
        \lstinline{return} from within a loop.}
\newcommand{\softwareengineeringpenalties}{\penaltyitem{1}{for each \lstinline{goto} statement,
            \lstinline{continue} statement, \lstinline{break} statement used to
            exit from a loop, or \lstinline{return} statement that occurs within
            a loop.}}
\newcommand{\scenariointroduction}{Working at the Pleistocene Petting Zoo certainly is proving to be interesting.
    You're glad that you don't have to worry about the problem of the giant sloths very slowly chasing their handlers, but now it seems that Archie has decided to try to write a program or two.
    At a glance, his code is smellier than the wooly rhinoceros' enclosure.
    But you take a closer look anyway to try to understand why his code acts strangely.}
\newcommand{\scenariowrapup}{You hear somebody enter the room.
    After the new arrival authenticates with the new application, Archie introduces you to her, ``Lil, this is our new developer, the one who wrote the app we just used.''
    He turns to you: ``This is Lilith Redd from business operations.''
    He turns back to her and continues, ``Lil, what's the good word?''

    ``The word isn't good, I'm afraid.
    I just heard back from the insurance company.''}
\newcommand{\transitionzero}{Archie shows you his first program, which he hoped would be used to greet guests, but it doesn't always work right:}
\newcommand{\transitionone}{``Wow,'' Archie says.
``I can't believe that I missed that.
Maybe you can help me with some other code that I wrote for one of my other start-ups.
Here it is.'' Archie shows you the code:}
\newcommand{\transitiontwo}{``Thanks for your help,'' Archie says.
``Maybe you can help our other developer with the project he's working on.''
A guy walks up.
He's wearing a Members-Only jacket over a Hawaiian shirt and looks like he might be a comedian's nemesis in another life.
}
\newcommand{\transitionthree}{``To protect against corporate espionage, we're writing an authentication system based on counting the words in books.
To make it work, we need to sort the words and count the number of occurrences of each word.
I'm using an array-backed list to store a book's words.
It works fine on my desktop system, but the device from Eclectic Electronics that we're deploying it to has an interesting quirk:
it has plenty of memory for our needs, but it has 256-byte memory segments, and a memory allocation cannot span more than one segment.
That's a bit of a problem for the array once the list grows large enough.''

You think about the problem for a moment, and then suggest, ``What if we replace the array-backed list with a linked list\dots?''
}
\newcommand{\transitionfour}{You plug in your shiny, new keyboard, tune your satellite radio to the Greatest Hits of the 1920s, and settle in to solving this interesting problem.
}
